<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="index.css"/>
    <link rel="shortcut icon" type="image/png" href="images/favicon.png"/>
    <title>STAR WARS SPACE BATTLE</title>
</head>

<body>
<header>
   <img src="images/starWarsLogo.png" alt="logo Star Wars" id="logoSW">
   <p id="titre"> BATTLEFRONT  FOR  THE  GALAXY </p>
</header>
<section id="conteneur">
    <div id="tab">
        <table id="tabJeu">
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        </table>
    </div>
<div id="sectionJoueur">
    <div id="messages">
        <p id="mess"></p>
        <button id='b1'>suivant</button>
    </div>

    <div id="players">
        <div id="joueur" class="joueur1">
                <img src="images/pilotXwingMin.jpg" alt="image pilote alliance" id="imgPilot1" class="imgPilot">
            <div id="contenuJoueur">
                <p id="txtInterface">Nom du vaisseau : <span id="nomV1"></span></p>
                <p id="txtInterface">Puissance de Dégats : <span id="degats1"></span></p>
                <p id="txtInterface">Points de Vies : <span id="pv1"></span></p>
                <div id="barreVie" class="bv1"></div>
                <button id="btn" class="btnAtt1">ATTAQUEZ</button>
                <button id="btn" class="btnDef1">DEFENDEZ</button>

            </div>    
        </div>

        <div id="image"><p id="imageP"></p></div>

        <div id="joueur" class="joueur2">
                <img src="images/pilotTieMin.jpg" alt="imge pilote empire" id="imgpilot2" class="imgPilot">
            <div id="contenuJoueur">
                <p id="txtInterface">Nom du vaisseau : <span id="nomV2"></span></p>
                <p id="txtInterface">Puissance de Dégats : <span id="degats2"></span></p>
                <p id="txtInterface">Points de Vies : <span id="pv2"></span></p>
                <div id="barreVie" class="bv2"></div>
                <button id="btn" class="btnAtt2">ATTAQUEZ</button>
                <button id="btn" class="btnDef2">DEFENDEZ</button>
            </div>
        </div>
    </div>
</div>
</section>


<script src= "jquery-3.3.1.js"></script>
<script src="joueurs.js"></script>
<script src="damier.js"></script>
<script src="startGame.js"></script>
<script src="deplacementXw.js"></script>
<script src="deplacementTie.js"></script>

<script>
    //console.log($("#pv2").text(`${newPv}`));
fightJ1();
    function fightJ1(){
    // petite phrase à ajouter
    let textXw = ["Quel beau tir !!","Que la Force soit avec vous", "Son vaisseau est presque totalement détruit ! Finissez en !","A votre tour Jedi !","En plein dans le mille !"];
    let mess =  Math.floor(textXw.length * Math.random());
    $("#mess").html(textXw[mess]); 
    $("#imageP").append('<img src="images/XwVid.gif" height="180" width="180">');
        console.log(typeof(joueurTie.pv));
    $(".btnAtt1, .btnDef1").css("background-color", "green");

            $(".btnAtt1").on("click",function(){
                if(joueurTie.pv > 0 && joueurTie.pv <= 100){

                    let degat = $("#degats1").text();
                    switch(degat){
                    case "10": 
                        joueurTie.pv = joueurTie.pv-vaisseauIni.degats;
                        $("#pv2").text(`${joueurTie.pv}`);
                        if(joueurTie.pv <= 0){
            console.log("perdu");
                }
                    break;
                    case "20": 
                        joueurTie.pv = joueurTie.pv-vaisseau1.degats;
                        $("#pv2").text(`${joueurTie.pv}`);
                    break;
                    case "25": 
                        joueurTie.pv = joueurTie.pv-vaisseau2.degats;
                        $("#pv2").text(`${joueurTie.pv}`);
                    break;
                    case "30":
                        joueurTie.pv = joueurTie.pv-vaisseau3.degats;
                        $("#pv2").text(`${joueurTie.pv}`); 
                    break;
                    case "35": 
                        joueurTie.pv = joueurTie.pv-vaisseau4.degats;
                        $("#pv2").text(`${joueurTie.pv}`);
                    break;
                    default:
                    return;
                    }
                }   

                $(".btnAtt1").off("click");
                console.log(joueurTie.pv);
                $(".btnAtt1, .btnDef1").css("background-color", "red");
                fightJ2();

            });
    
}

function fightJ2(){
    //texte de tour par tour
let textTie = ["DETRUISEZ CETTE VERMINE !", "Vous êtes un Destructeur !", "Détruisez l'alliance !!", "Pourchassez ce Rebel", "Au Prochain Tir l'Alliance aura failli !"];
let mess =  Math.floor(textTie.length * Math.random());
$("#mess").html(textTie[mess]); 
$("#imageP").append('<img src="images/tieVid.gif" height="180" width="180">');
    console.log(joueurXw.pv);
        $(".btnAtt2, .btnDef2").css("background-color", "green");

            $(".btnAtt2").on("click",function(){
                if(joueurXw.pv>0 && joueurXw.pv<=100){

                    let degat = $("#degats2").text();
                    switch(degat){
                    case "10": 
                        joueurXw.pv = joueurXw.pv-vaisseauIni.degats;
                        $("#pv1").text(`${joueurXw.pv}`);
                        if(joueurXw.pv<=0){
            console.log("perdululu");
            }
                    break;
                    case "20": 
                        joueurXw.pv = joueurXw.pv-vaisseau1.degats;
                        $("#pv1").text(`${joueurXw.pv}`);
                    break;
                    case "25": 
                        joueurTie.pv = joueurXw.pv-vaisseau2.degats;
                        $("#pv1").text(`${joueurXw.pv}`);
                    break;
                    case "30":
                        joueurXw.pv = joueurXw.pv-vaisseau3.degats;
                        $("#pv1").text(`${joueurXw.pv}`); 
                    break;
                    case "35": 
                        joueurXw.pv = joueurXw.pv-vaisseau4.degats;
                        $("#pv1").text(`${joueurXw.pv}`);
                    break;
                    default:
                    return;
                }
            }
           

                $(".btnAtt2").off("click");
                $(".btnAtt2, .btnDef2").css("background-color", "red");
                fightJ1();
            });

}


    function test()
    {   $("#tab").hide();
        $("#sectionJoueur").css("width", "100%");
        $(".joueur1, .joueur2").css({"width":"42%", "height":"200","margin":"30px 5px"});
        $("#players").css({"display":"flex", "height":"250px"});
        $("#image").css({
            "width":"200px",
            "height":"200px",
            "border":"1px grey solid",
            "margin":"30px 0px"});
    }
</script> 


</body>
</html>